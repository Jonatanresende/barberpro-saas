<!DOCTYPE html>
<html lang="pt-BR" class="scroll-smooth">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Barbeiro na Hora - Gestão Simplificada para sua Barbearia</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

    <style>
        body { font-family: 'Inter', sans-serif; }
    </style>

    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              sans: ['Inter', 'sans-serif'],
            },
            colors: {
              'brand-gold': '#D4AF37',
              'brand-dark': '#111111',
              'brand-light': '#F5F5F5',
              'brand-gray': '#222222',
            },
          }
        }
      }
    </script>
</head>
<body class="bg-brand-dark text-brand-light antialiased">

    <header class="bg-brand-dark/80 backdrop-blur-sm sticky top-0 z-50 border-b border-brand-gray/50">
      <div class="container mx-auto px-6 py-4 flex justify-between items-center">
        <a href="/" class="flex items-center gap-2">
          <img id="header-logo" src="/landing/images/logo.png" alt="Logo Barbeiro na Hora" class="h-10" />
        </a>
        <div class="flex items-center gap-4">
          <a href="/#/login" class="text-gray-300 hover:text-brand-gold transition-colors font-medium">Login</a>
          <a href="#pricing" class="bg-brand-gold text-brand-dark font-bold py-2 px-4 rounded-lg hover:opacity-90 transition-opacity">Assinar Agora</a>
        </div>
      </div>
    </header>

    <main>
        <section class="relative bg-brand-dark py-20 md:py-32 overflow-hidden">
          <div class="container mx-auto px-6 text-center relative z-10">
            <h1 class="text-4xl md:text-6xl font-extrabold text-white leading-tight mb-4">
              Chega de Gerenciar sua Barbearia no <span class="text-brand-gold">Papel e WhatsApp</span>
            </h1>
            <p class="text-lg md:text-xl text-gray-300 max-w-3xl mx-auto mb-8">
              O Barbeiro na Hora organiza seus agendamentos, clientes e finanças para você focar no que realmente importa: seus clientes.
            </p>
            <div>
              <a href="#pricing" class="bg-brand-gold text-brand-dark font-bold py-4 px-8 rounded-lg text-lg hover:opacity-90 transition-opacity inline-block">
                Ver Planos e Contratar
              </a>
            </div>
            <div class="mt-16">
              <img src="/landing/images/dashboard-showcase.png" alt="Dashboard do Barbeiro na Hora" class="rounded-xl shadow-2xl shadow-brand-gold/10 w-full max-w-6xl h-auto object-contain" />
              <p class="text-gray-400 text-sm mt-4 text-center">Dashboard do Barbeiro na Hora</p>
            </div>
          </div>
        </section>

        <section class="py-20 bg-brand-gray">
          <div class="container mx-auto px-6">
            <div class="text-center mb-12">
              <h2 class="text-4xl font-bold text-white">Sua rotina parece com isso?</h2>
              <p class="text-lg text-gray-400 mt-2">Sabemos como é. Por isso, criamos a solução.</p>
            </div>
            <div class="grid md:grid-cols-2 gap-12 items-start">
              <div class="bg-brand-dark p-8 rounded-lg border border-red-500/30">
                <h3 class="text-3xl font-bold text-white mb-6 flex items-center gap-3"><i data-lucide="x-circle" class="text-red-500"></i> O Caos Atual</h3>
                <ul class="space-y-4">
                  <li class="flex items-start gap-3 text-gray-300"><span class="text-red-500 mt-1">&#10006;</span><span>Agenda lotada no WhatsApp e clientes sem resposta.</span></li>
                  <li class="flex items-start gap-3 text-gray-300"><span class="text-red-500 mt-1">&#10006;</span><span>Fim do mês chega e você não sabe quanto lucrou de verdade.</span></li>
                  <li class="flex items-start gap-3 text-gray-300"><span class="text-red-500 mt-1">&#10006;</span><span>Clientes que somem e você não sabe o porquê.</span></li>
                  <li class="flex items-start gap-3 text-gray-300"><span class="text-red-500 mt-1">&#10006;</span><span>Horas perdidas respondendo mensagens em vez de estar na cadeira cortando.</span></li>
                </ul>
              </div>
              <div class="bg-brand-dark p-8 rounded-lg border border-green-500/30">
                <h3 class="text-3xl font-bold text-white mb-6 flex items-center gap-3"><i data-lucide="check-circle-2" class="text-green-500"></i> A Solução Barbeiro na Hora</h3>
                <ul class="space-y-4">
                  <li class="flex items-start gap-3 text-gray-300"><span class="text-green-500 mt-1">&#10004;</span><span>Agenda online que seus clientes podem usar sozinhos, 24h por dia.</span></li>
                  <li class="flex items-start gap-3 text-gray-300"><span class="text-green-500 mt-1">&#10004;</span><span>Financeiro na palma da mão: veja seu faturamento diário, semanal e mensal.</span></li>
                  <li class="flex items-start gap-3 text-gray-300"><span class="text-green-500 mt-1">&#10004;</span><span>Ficha de cada cliente com histórico de cortes e preferências.</span></li>
                  <li class="flex items-start gap-3 text-gray-300"><span class="text-green-500 mt-1">&#10004;</span><span>Seu tempo de volta para focar na arte de barbear.</span></li>
                </ul>
              </div>
            </div>
          </div>
        </section>

        <section id="pricing" class="py-20 bg-brand-dark">
          <div class="container mx-auto px-6 text-center">
            <h2 class="text-4xl font-bold text-white mb-4">Um Plano Para Cada Tamanho de Barbearia</h2>
            <p class="text-lg text-gray-400 mb-12 max-w-2xl mx-auto">Escolha o plano ideal e comece a transformar sua gestão hoje mesmo.</p>
            <div id="pricing-container" class="grid lg:grid-cols-2 gap-8 max-w-4xl mx-auto items-stretch">
                <p class="text-gray-400">Carregando planos...</p>
            </div>
          </div>
        </section>
    </main>

    <footer class="bg-brand-gray border-t border-brand-gray/50">
      <div class="container mx-auto px-6 py-8 text-center text-gray-400">
        <div class="flex items-center justify-center gap-2 mb-4">
          <img id="footer-logo" src="/landing/images/logo.png" alt="Logo Barbeiro na Hora" class="h-12" />
        </div>
        <p>&copy; 2024 Barbeiro na Hora. Todos os direitos reservados.</p>
      </div>
    </footer>

    <script>
        lucide.createIcons();

        const SUPABASE_URL = "https://staimtbbfkfexekkimiw.supabase.co";
        const SUPABASE_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InN0YWltdGJiZmtmZXhla2tpbWl3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI4MDM3ODcsImV4cCI6MjA3ODM3OTc4N30.Gu6W-UngOWMC8dYOp8qBzKKR5k84Rn3ztYiyGrtE10w";
        const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_KEY);

        const planLinks = {
            'Básico': 'https://pay.kiwify.com.br/7LfyG5Z',
            'Profissional': 'https://pay.kiwify.com.br/ot4k2Am'
        };

        async function fetchSettings() {
            const { data, error } = await supabase.from('system_settings').select('logo_url').eq('id', 1).single();
            if (data && data.logo_url) {
                document.getElementById('header-logo').src = data.logo_url;
                document.getElementById('footer-logo').src = data.logo_url;
            }
        }

        async function fetchPlans() {
            const container = document.getElementById('pricing-container');
            const { data, error } = await supabase.from('planos').select('*').eq('ativo', true).order('preco', { ascending: true });
            
            if (error || !data) {
                container.innerHTML = '<p class="text-red-400">Não foi possível carregar os planos.</p>';
                return;
            }

            const activePlans = data.filter(p => p.nome.toLowerCase() !== 'trial');
            
            container.innerHTML = activePlans.map(plano => `
                <div class="bg-brand-gray p-8 rounded-lg border flex flex-col relative ${plano.popular ? 'border-2 border-brand-gold' : 'border-brand-gray/50'}">
                    ${plano.popular ? '<div class="absolute top-0 -translate-y-1/2 left-1/2 -translate-x-1/2 bg-brand-gold text-brand-dark px-3 py-1 text-sm font-bold rounded-full">Mais Escolhido</div>' : ''}
                    <h3 class="text-2xl font-bold text-brand-gold">${plano.nome}</h3>
                    <p class="text-4xl font-extrabold my-4 text-white">R$${plano.preco.toFixed(2).replace('.', ',')}<span class="text-base font-medium text-gray-400">/mês</span></p>
                    <ul class="space-y-3 text-gray-300 text-left flex-grow mb-8">
                        ${plano.features.map(feature => `
                            <li class="flex items-start gap-3">
                                <i data-lucide="check" class="w-5 h-5 text-green-500 flex-shrink-0 mt-1"></i>
                                <span>${feature}</span>
                            </li>
                        `).join('')}
                    </ul>
                    <a href="${planLinks[plano.nome] || '#'}" target="_blank" rel="noopener noreferrer" class="mt-auto bg-brand-gold text-brand-dark font-bold py-3 px-6 rounded-lg w-full hover:opacity-90 transition-opacity">Contratar Agora</a>
                </div>
            `).join('');
            lucide.createIcons(); // Re-initialize icons after adding new ones
        }

        document.addEventListener('DOMContentLoaded', () => {
            fetchSettings();
            fetchPlans();
        });
    </script>
</body>
</html>